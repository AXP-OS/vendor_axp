
project kernel/wireguard-linux-compat
diff --git a/src/compat/compat.h b/src/compat/compat.h
index 69dada8..cfacbeb 100644
--- a/src/compat/compat.h
+++ b/src/compat/compat.h
@@ -80,7 +80,7 @@
 #endif
 #endif
 
-#if LINUX_VERSION_CODE < KERNEL_VERSION(4, 3, 0) && !defined(ISRHEL7)
+#if LINUX_VERSION_CODE < KERNEL_VERSION(4, 3, 0) && !defined(ISRHEL7) || ifndef ipv6_dst_lookup
 #define ipv6_dst_lookup(a, b, c, d) ipv6_dst_lookup(b, c, d)
 #endif
 
